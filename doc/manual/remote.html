<html resid=1016>
<head>
   <title>Remote Control</title>
</head>
<body>
<h2>PM123's Remote Control</h2>
<p>PM123 can be remotely controlled via a <i>named pipe</i>, <tt>\PIPE\PM123</tt> by
  default.
Named pipes were chosen because of their excellent features. Quoting from
the <i>Control Program Programming Guide and Reference</i>: "Any process that
knows
the name of a pipe can open and use a named pipe. In addition, named pipe
data can be transparently redirected across a network, such as a local
area network (LAN)".
<p>To remote control PM123 on the same computer, you can use either the
built-in "<tt>echo</tt>" command, or the PM123 executable itself. PM123
understands a set of commands that are written to the pipe. For example,
<blockquote>
  <pre>[c:\usr\pm123] pm123 -cmd volume 80
[c:\usr\pm123] echo *volume 80 > \pipe\pm123
</pre>
</blockquote>
<p>  These commands will set the volume to 80%.
</p>
<blockquote>
<pre>[c:\usr\pm123] pm123 -cmd add d:\music\test.mp3
[c:\usr\pm123] echo *add d:\music\test.mp3 > \pipe\pm123
</pre>
</blockquote>
<p>These commands will add the file <tt>d:\music\test.mp3</tt> to the default
  playlist.
<p>If you use <tt>echo</tt>, remember to prepend any commands sent to it
with a <tt>*</tt> character.
<p>Now for the cool part. You can control PM123 over your OS/2 Local Area Network.
  Just use <tt>\\<var>SERVER</var>\PIPE\PM123</tt>. <tt>\\<var>SERVER</var></tt> is
  the name of the computer PM123 runs on. For example,

<blockquote>
  <pre>[c:\usr\pm123] pm123 -cmd \\mycomputer volume 80
[c:\usr\pm123] echo *volume 80 > \\mycomputer\pipe\pm123
[c:\usr\pm123] pm123 -cmd \\mycomputer add d:\music\test.mp3
[c:\usr\pm123] echo *add d:\music\test.mp3 > \\mycomputer\pipe\pm123</pre>
</blockquote>
<p>Will do the same as examples above, but from a different computer. Easy, isn't
  it?</p>
<h3>Command reference</h3>
<p> PM123 currently understands the following
commands (optional parameters are enclosed in square brackets).</p>
<h4>Category playback control</h4>
<table border cellpadding=5 cellspacing=0 >
  <tr>
    <th>Comand</th>
    <th>Desription</th>
    <th>Reply</th>
  </tr>
  <tr>
    <td><tt>load </tt>[<tt><var>&lt;file&gt;</var></tt>|<tt><var>&lt;url&gt;</var></tt>]</td>
    <td>Loads a <var><tt>&lt;file&gt;</tt></var> or <tt><var>&lt;url&gt;</var></tt> into
      the player. Plays it too, if '<i>auto play on load</i>' is set. </td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><tt>play </tt>[<tt><var>&lt;file&gt;</var></tt>|<tt><var>&lt;url&gt;</var></tt>]</td>
    <td>Starts playing.<br>
      If <tt><var>&lt;file&gt;</var></tt> or <tt><var>&lt;url&gt;</var></tt> was
      specified, it will be first loaded and playback will be started. Any currently
      playing item will be aborted.</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><tt>stop</tt></td>
    <td>Stops playback.</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><tt>pause </tt>[<tt>on</tt>|<tt>off</tt>]<sup><a href="#note1">(1)</a></sup></td>
    <td>Pauses or unpauses the playback.</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><tt>next </tt>[<var><tt>&lt;count&gt;</tt></var>]</td>
    <td>Selects the next song in playlist. If <var><tt>&lt;count&gt;</tt></var> is
      specified, you can skip more than one song at once.</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><tt>previous </tt>[<var><tt>&lt;count&gt;</tt></var>]</td>
    <td>Selects the previous song in playlist. If <var><tt>&lt;count&gt;</tt></var> is
      specified, you can skip more than one song at once.</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><tt>rewind </tt>[<tt>on</tt>|<tt>off</tt>]<sup><a href="#note1">(1)</a></sup></td>
    <td>Toggles or (re)sets rewind of the currently playing file. If rewind is
      activated fast forward is implicitely deactivated.</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><tt>forward </tt>[<tt>on</tt>|<tt>off</tt>]<sup><a href="#note1">(1)</a></sup></td>
    <td>Toggles or (re)sets fast forward of the currently playing file. If fast
      forward is activated rewind is implicitely deactivated.</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><tt>navigate<br>
      </tt><tt>song <var>&lt;url&gt;</var></tt><br>
      [<tt>time </tt><var><tt>&lt;time&gt;</tt></var>[<tt>%</tt>]]</td>
    <td>Navigate within the currently loaded playlist. Examples:<br>
      '<tt>navigate path ;D:\songs\song1.mp3</tt>' navigates to the start of
      the song within the currently loaded playlist. If the file is referenced
      twice, the first instance s taken.<br>
      '<tt>navigate song D:\songs\song1.mp3 time 1:02.7</tt>' navigates to location
      62.7 seconds within the next occourency of .</td>
    <td>Previous absolute location and (relative) time.</td>
  </tr>
  <tr>
    <td><tt>navigate<br>
      </tt><tt>path </tt>[<tt>;</tt>]<tt><var>&lt;item&gt;</var></tt>[<tt>;<var>&lt;subitem&gt;</var></tt>[<tt>;</tt>...]]<br>
      [<tt>time </tt><var><tt>&lt;time&gt;</tt></var>[<tt>%</tt>]]</td>
    <td>Navigate within the currently loaded playlist. Examples:<br>
      '<tt>navigate path ;D:\songs\song1.mp3</tt>' navigates to the start of
      the song within the currently loaded playlist. If the file is referenced
      twice, the first instance s taken.<br>
      '<tt>navigate song D:\songs\song1.mp3 time 1:02.7</tt>' navigates to location
      62.7 seconds within the next occourency of .</td>
    <td>Previous absolute location and (relative) time.</td>
  </tr>
  <tr>
    <td><tt>jump <var>&lt;n&gt;</var></tt></td>
    <td>Jump to <tt><var>&lt;n&gt;</var></tt> seconds in the currently playing
      file. <tt><var>&lt;n&gt;</var></tt> may be a fractional number.</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><tt>volume </tt>[[<tt>+</tt>|<tt>-</tt>]<tt><var>&lt;n&gt;</var></tt>]</td>
    <td>Sets volume to <tt><var>&lt;n&gt;</var></tt>% (scale 0-100, of course).
      If a sign is included, <tt><var>&lt;n&gt;</var></tt> is added to the current
      volume level. If <tt><var>&lt;n&gt;</var></tt> is ommitted the volume is
      unchanged.</td>
    <td>Previous volume setting.</td>
  </tr>
  <tr>
    <td><tt>shuffle </tt>[<tt>on</tt>|<tt>off</tt>]<sup><a href="#note1">(1)</a></sup></td>
    <td>Toggles or (re)sets shuffling.</td>
    <td>Previous setting.</td>
  </tr>
  <tr>
    <td><tt>repeat </tt>[<tt>on</tt>|<tt>off</tt>]<sup><a href="#note1">(1)</a></sup></td>
    <td>Toggles or (re)sets repeat.</td>
    <td>Previous setting.</td>
  </tr>
  <tr>
    <td><tt>hide</tt></td>
    <td>Hides the player window.</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><tt>status tag</tt>|<tt>file</tt>|<tt>info</tt></td>
    <td>Returns the information currently displayed in the scroller or returns
      nothing if "no file loaded".</td>
    <td>Info string.</td>
  </tr>
</table>
<h4>Category Playlists</h4>
<table border cellpadding=5 cellspacing=0 >
  <tr>
    <th>Comand</th>
    <th>Desription</th>
    <th>Reply</th>
  </tr>
  <tr>
    <td><tt>playlist <var>&lt;file&gt;</var></tt></td>
    <td>Select a playlist. This setting only affects the pipe interface.</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><tt>pl_next</tt><a href="#note3"><sup>(3)</sup></a></td>
    <td>Navigate to the next item in the current playlist.</td>
    <td>URL of the  item or an empty string at the end of the list.</td>
  </tr>
  <tr>
    <td><tt>pl_previous</tt><a href="#note3"><sup>(3)</sup></a></td>
    <td>Navigate to the previous item in the current playlist.</td>
    <td>URL of the item or an empty string at the end of the list.</td>
  </tr>
  <tr>
    <td><tt>pl_reset</tt><a href="#note3"><sup>(3)</sup></a></td>
    <td>Reset the current item of the playlist.</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><tt>use</tt></td>
    <td>Use the current playlist. This is equivalent to '<tt>load <var>&lt;filepath
          to current playlist&gt;</var></tt>'.</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><tt>clear</tt></td>
    <td>Clears the current playlist.</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><tt>add <var>&lt;file&gt;</var></tt>|<var><tt>&lt;url&gt;</tt></var>[<tt>;</tt>...]</td>
    <td>Adds item(s) to the current playlist. Multiple items must be separated
      with '<tt>;</tt>' characters. The names or urls can be enclosed with double
      quotes. The operation is atomic.</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><tt>dir <var>&lt;directory&gt;</var></tt><sup><a href="#note1">(2)</a></sup></td>
    <td>Add <tt><var>&lt;directory&gt;</var></tt> to the playlist (non-recursive).</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><tt>rdir <var>&lt;directory&gt;</var></tt><sup><a href="#note1">(2)</a></sup></td>
    <td>Add <tt><var>&lt;directory&gt;</var></tt> to the playlist (recursive).</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><tt>status tag</tt>|<tt>file</tt>|<tt>info</tt></td>
    <td>Returns the information currently displayed in the scroller or returns
      nothing if "no file loaded".</td>
    <td>Info string.</td>
  </tr>
  <tr>
    <td><tt>remove</tt></td>
    <td>Removes currently loaded file from the current playlist.</td>
    <td>&nbsp;</td>
  </tr>
</table>
<h4>Category Configuration</h4>
<table border cellpadding=5 cellspacing=0 >
  <tr>
    <th>Comand</th>
    <th>Desription</th>
    <th>Reply</th>
  </tr>
<tr>
<td><tt>autouse </tt>[<tt>on</tt>|<tt>off</tt>]<sup><a href="#note1">(1)</a></sup></td>
<td>Toggles or (re)sets '<i>auto use playlist on add</i>'.</td>
<td>Previous setting.</td>
</tr>
<tr>
<td><tt>playonload </tt>[<tt>on</tt>|<tt>off</tt>]<sup><a href="#note1">(1)</a></sup></td>
<td>Toggles or (re)sets '<i>auto play on load</i>'.</td>
<td>Previous setting.</td>
</tr>
<tr>
<td><tt>playonuse </tt>[<tt>on</tt>|<tt>off</tt>]<sup><a href="#note1">(1)</a></sup></td>
<td>Toggles or (re)sets '<i>auto play on playlist use</i>'.</td>
<td>Previous setting.</td>
</tr>
<tr>
<td><tt>float </tt>[<tt>on</tt>|<tt>off</tt>]<sup><a href="#note1">(1)</a></sup></td>
<td>Toggles or (re)sets '<i>float on top</i>'.</td>
<td>Previous setting.</td>
</tr>
<tr>
<td><tt>font 1</tt>|<tt>2</tt>|<var><tt>&lt;Font&gt;</tt></var></td>
<td>Selects font 1 or font 2 or a non-skinned OS/2 font. <var><tt>&lt;Font&gt;</tt></var> is
  in the PM syntax like '<tt>8.&nbsp;Helvetica</tt>'.</td>
<td>Previous setting.</td>
</tr>
<tr>
<td><tt>size 0</tt>|<tt>normal</tt>|<tt>regular</tt> | <tt>1</tt>|<tt>small</tt> | <tt>2</tt>|<tt>tiny</tt></td>
<td>Selects the player size.</td>
<td>Previous setting. [<tt>0</tt>|<tt>1</tt>|<tt>2</tt>]<br>
  Empty string on error.</td>
</tr>
</table>

<h4>Notes</h4>
<ol>
  <li>
    <p>All boolean parameters may use '<tt>on</tt>', '<tt>1</tt>', '<tt>true</tt>'
      or '<tt>yes</tt>' for the logical
      true value and '<tt>off</tt>', '<tt>0</tt>', '<tt>false</tt>' or '<tt>no</tt>'
      for false.</p>
  </li>
  <li>
    <p>The behaviour of the directory commands has significantly changed with
      PM123 1.40. The content of the directories is no longer expanded inline
      into the playlist. A reference to the diretory is added to the playlist
      instead. This has several side effects. Unplayable items appear in the
      navigation. The directory is rescanned everytime the playlist is loaded.</p>
  </li>
  <li>In PM123 before version 1.40 the playlist manipulation commands always
    operate on the currently playing item. Now new commands are dedicated
    to playlist operations.</li>
</ol>
</body>
</html>
